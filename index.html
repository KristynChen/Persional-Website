<!DOCTYPE html>
<html lang="zh-CN" class="scroll-smooth">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Yishan CHEN | AI Agent Engineer</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link
        href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,400;0,500;0,600;0,700;1,400;1,500;1,600;1,700&family=Inter:wght@300;400;500;600&family=JetBrains+Mono&display=swap"
        rel="stylesheet">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        cream: '#F9F8F4',
                        dark: '#1A1A1A',
                        forest: '#2D4F1E',
                        'forest-light': '#4A7A3A'
                    },
                    fontFamily: {
                        serif: ['"Cormorant Garamond"', 'Georgia', 'serif'],
                        sans: ['"Cormorant Garamond"', 'Inter', 'PingFang SC', 'sans-serif'],
                        mono: ['"JetBrains Mono"', 'monospace'],
                    },
                    backgroundImage: {
                        'grain': 'url("data:image/svg+xml,%3Csvg viewBox=\'0 0 400 400\' xmlns=\'http://www.w3.org/2000/svg\'%3E%3Cfilter id=\'noiseFilter\'%3E%3CfeTurbulence type=\'fractalNoise\' baseFrequency=\'0.75\' numOctaves=\'3\' stitchTiles=\'stitch\'/%3E%3C/filter%3E%3Crect width=\'100%25\' height=\'100%25\' filter=\'url(%23noiseFilter)\' opacity=\'0.05\'/%3E%3C/svg%3E")',
                    }
                }
            }
        }
    </script>
    <style type="text/tailwindcss">
        body {
            @apply bg-cream text-dark font-sans;
        }

        /* æ¨¡æ‹Ÿé«˜çº§çº¸å¼ è´¨æ„Ÿ */
        body::before {
            content: "";
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 100;
            background-image: theme('backgroundImage.grain');
            mix-blend-mode: multiply;
        }

        h1,
        h2,
        h3 {
            @apply font-serif font-bold;
        }

        .fade-up {
            opacity: 0;
            transform: translateY(30px);
            transition: all 1s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }

        .fade-up.visible {
            opacity: 1;
            transform: translateY(0);
        }

        .nav-link {
            position: relative;
        }

        .nav-link::after {
            content: '';
            position: absolute;
            width: 0;
            height: 1px;
            bottom: -4px;
            left: 0;
            background-color: theme('colors.forest');
            transition: width 0.3s ease;
        }

        .nav-link:hover::after {
            width: 100%;
        }

        /* GNN æŠ½è±¡èŠ‚ç‚¹çš„åŠ¨ç”» */
        .node {
            animation: float 6s ease-in-out infinite;
        }

        .node:nth-child(2) {
            animation-delay: -1s;
        }

        .node:nth-child(3) {
            animation-delay: -2s;
        }

        @keyframes float {

            0%,
            100% {
                transform: translateY(0px);
            }

            50% {
                transform: translateY(-15px);
            }
        }
    </style>
</head>

<body class="selection:bg-forest/20 selection:text-forest">

    <nav class="px-8 py-6 flex justify-between items-center fixed w-full top-0 bg-cream/80 backdrop-blur-md z-40 border-b border-dark/5 transition-all duration-500"
        id="navbar">
        <a href="#" class="text-xl font-bold tracking-tighter hover:text-forest transition">YISHAN.</a>
        <div class="space-x-10 text-xs uppercase tracking-[0.2em] font-medium text-dark/70 flex items-center">
            <a href="#projects" class="nav-link" data-i18n="nav_projects">Projects</a>
            <a href="#education" class="nav-link" data-i18n="nav_about">About</a>
            <a href="#contact" class="nav-link" data-i18n="nav_contact">Contact</a>
            <div class="relative group">
                <a href="#" class="nav-link font-bold text-forest cursor-default pb-1" data-i18n="nav_cv">Resume</a>
                <div
                    class="absolute top-full left-1/2 -translate-x-1/2 mt-2 w-28 bg-white border border-dark/10 rounded-xl shadow-xl opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-300 z-50 overflow-hidden flex flex-col">
                    <a href="resume_EN.pdf" target="_blank"
                        class="px-4 py-2 hover:bg-cream transition-colors text-xs font-medium text-center border-b border-dark/5">English</a>
                    <a href="resume_CN.pdf" target="_blank"
                        class="px-4 py-2 hover:bg-cream transition-colors text-xs font-medium font-sans text-center">ä¸­æ–‡ç‰ˆ</a>
                </div>
            </div>
            <button id="lang-toggle"
                class="px-3 py-1 border border-dark/20 rounded-full hover:bg-dark hover:text-cream transition-all duration-300 font-bold ml-4">EN/ä¸­</button>
        </div>
    </nav>

    <header class="min-h-screen flex items-center pt-20 px-8 relative overflow-hidden">
        <div
            class="absolute top-0 right-0 w-2/3 h-full bg-gradient-to-bl from-forest/5 via-cream to-cream -z-10 blur-3xl">
        </div>

        <div class="max-w-7xl mx-auto w-full flex flex-col-reverse md:flex-row items-center gap-16 md:gap-24">
            <div class="flex-1 fade-up visible z-10">
                <div class="flex items-center gap-4 mb-6">
                    <span class="h-[1px] w-12 bg-forest/30"></span>
                    <p class="text-forest font-semibold tracking-[0.15em] uppercase text-xs" data-i18n="hero_major">
                        UM-SJTU JI ECE '26 /
                        Exploring AI
                    </p>
                </div>
                <h1 class="text-7xl md:text-9xl leading-[0.9] mb-8 tracking-tight font-medium" data-i18n="hero_title">
                    Exploring<br>
                    <span class="text-dark relative">
                        Agentic
                        <svg class="absolute inset-x-0 -bottom-2 text-forest/20 w-full" height="12" viewBox="0 0 300 12"
                            fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M2 9.5C68 2.5 136 2.5 298 9.5" stroke="currentColor" stroke-width="3"
                                stroke-linecap="round" />
                        </svg>
                    </span><br>
                    Possibilities.
                </h1>
                <!-- <p class="text-lg text-dark/70 max-w-lg leading-relaxed mb-12 font-light">
                    ä¸“æ³¨å¤šæ™ºèƒ½ä½“ååŒæµæ°´çº¿ (Multi-Agent Workflow) ä¸å›¾ç¥ç»ç½‘ç»œã€‚è‡´åŠ›äºæ„å»ºå¯è§‚æµ‹ã€å·¥ç¨‹åŒ–çš„ AI ç³»ç»Ÿã€‚
                </p> -->
                <div class="flex flex-wrap gap-4">
                    <a href="#projects"
                        class="group inline-flex items-center gap-3 px-8 py-4 bg-dark text-cream rounded-full hover:bg-forest transition-all duration-300">
                        <span class="uppercase tracking-widest text-xs font-bold" data-i18n="hero_button">Explore
                            Work</span>
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                            stroke="currentColor" class="w-4 h-4 group-hover:translate-y-1 transition-transform">
                            <path stroke-linecap="round" stroke-linejoin="round"
                                d="M19.5 13.5 12 21m0 0-7.5-7.5M12 21V3" />
                        </svg>
                    </a>
                    <div class="relative group z-30">
                        <button
                            class="inline-flex items-center gap-3 px-8 py-4 border border-dark/20 rounded-full hover:bg-dark/5 transition-all duration-300">
                            <span class="uppercase tracking-widest text-xs font-bold" data-i18n="hero_cv">View
                                Resume</span>
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                                stroke="currentColor" class="w-4 h-4 group-hover:translate-y-1 transition-transform">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M19.5 8.25l-7.5 7.5-7.5-7.5" />
                            </svg>
                        </button>
                        <div
                            class="absolute top-full left-0 mt-2 w-full bg-white border border-dark/10 rounded-2xl shadow-xl opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-300 z-50 overflow-hidden flex flex-col">
                            <a href="resume_EN.pdf" target="_blank"
                                class="px-5 py-3 hover:bg-cream transition-colors text-xs font-bold text-center border-b border-dark/5 tracking-widest uppercase">English</a>
                            <a href="resume_CN.pdf" target="_blank"
                                class="px-5 py-3 hover:bg-cream transition-colors text-xs font-bold text-center tracking-widest uppercase font-sans">ä¸­æ–‡ç‰ˆ</a>
                        </div>
                    </div>
                </div>
            </div>
            <div class="flex-shrink-0 w-full max-w-md md:w-[420px] aspect-[3/4] relative fade-up visible"
                style="transition-delay: 0.2s;">
                <div class="absolute inset-0 bg-forest/10 rounded-[2.5rem] translate-x-4 translate-y-4 -z-10 blur-sm">
                </div>
                <div class="group relative w-full h-full">
                    <div
                        class="w-full h-full rounded-[2.5rem] overflow-hidden shadow-2xl shadow-forest/20 rotate-2 group-hover:rotate-0 group-hover:scale-[1.02] transition-all duration-700 ease-[cubic-bezier(0.25,0.46,0.45,0.94)]">
                        <img src="assets/images/CV_cover.jpg" alt="Yishan Chen"
                            class="w-full h-full object-cover transition-all duration-700">
                    </div>

                    <!-- Chat Bubble -->
                    <div class="absolute -top-6 -left-8 md:-left-12 z-20 drop-shadow-xl pointer-events-none"
                        style="animation: float 4s ease-in-out infinite;">
                        <div
                            class="bg-cream text-dark px-6 py-4 rounded-3xl rounded-br-sm border border-dark/10 relative shadow-[0_10px_30px_-10px_rgba(0,0,0,0.15)]">
                            <p class="text-xl whitespace-nowrap font-medium" data-i18n="hero_hi">Hi! This is Yishan CHEN
                                âœ§
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <section id="projects" class="py-40 px-8 bg-white relative overflow-hidden">
        <span
            class="absolute -top-10 -left-10 text-[12rem] text-dark/5 leading-none select-none z-0 font-bold">WORKS.</span>

        <div class="max-w-7xl mx-auto relative z-10">
            <div class="flex flex-col md:flex-row justify-between items-end mb-24 pb-8 border-b border-dark/10 fade-up">
                <h2 class="text-5xl md:text-6xl max-w-md leading-tight font-medium" data-i18n="works_title">Featured
                    <br><span class="text-forest">Projects</span>
                </h2>
                <p class="text-dark/50 max-w-xs text-sm mt-8 md:mt-0 font-medium tracking-wider uppercase"
                    data-i18n="works_sub">/ Engineering
                    + Research</p>
            </div>

            <div class="grid md:grid-cols-12 gap-16 items-center mb-48 fade-up">
                <div class="md:col-span-7 order-2 md:order-1 relative group">
                    <div
                        class="absolute -inset-4 bg-gradient-to-tr from-forest/10 via-transparent to-transparent rounded-3xl blur-2xl opacity-0 group-hover:opacity-100 transition-opacity duration-700">
                    </div>
                    <div
                        class="relative rounded-2xl overflow-hidden shadow-[0_20px_50px_-15px_rgba(0,0,0,0.3)] bg-dark/5 hover:translate-y-[-5px] transition-all duration-500 border border-dark/10">
                        <img src="assets/images/terny_landing.png" alt="terny.ai landing page"
                            class="w-full h-auto object-cover transition-transform duration-700 group-hover:scale-[1.02]">
                    </div>
                </div>
                <div class="md:col-span-5 order-1 md:order-2 pl-0 md:pl-12">
                    <h3 class="text-4xl mb-6 font-bold">terny.ai</h3>
                    <p class="text-forest mb-8 uppercase tracking-widest text-xs font-bold flex items-center gap-2">
                        <span class="w-2 h-2 rounded-full bg-forest"></span> <span
                            data-i18n="project_terny_category">Agentic System Architecture</span>
                    </p>
                    <p class="text-dark/70 mb-10 leading-loose font-light" data-i18n="project_terny_desc">
                        è®¾è®¡å¹¶å®ç°åŸºäº Multi-Agent æ¶æ„çš„ç«¯åˆ°ç«¯ç§‘ç ”æ™ºèƒ½åŒ¹é…ç³»ç»Ÿã€‚åº•å±‚ç»“åˆè‡ªåŠ¨åŒ–çˆ¬è™«ä¸
                        LLMï¼Œå¯¹éç»“æ„åŒ–ç§‘ç ”ç½‘ç«™è¿›è¡Œè¯­ä¹‰è§£æä¸ç»“æ„åŒ–æŠ½å–ï¼Œæ„å»ºå¯æŒç»­æ›´æ–°çš„ç§‘ç ”æœºä¼šçŸ¥è¯†åº“ã€‚æ„å»ºå¤šæ™ºèƒ½ä½“ååŒæµæ°´çº¿ï¼Œå°†ç ”ç©¶æ–¹å‘è¯­ä¹‰å»ºæ¨¡ã€å­¦ç”Ÿèƒ½åŠ›å»ºæ¨¡ä¸åŒ¹é…å†³ç­–è§£è€¦ï¼Œå®ç°å…¨é“¾è·¯è‡ªåŠ¨åŒ–æ¨èã€‚
                    </p>
                    <div class="flex gap-4 mb-8">
                        <span
                            class="px-4 py-2 bg-cream rounded-full text-xs font-medium tracking-wider border border-dark/5">Python</span>
                        <span
                            class="px-4 py-2 bg-cream rounded-full text-xs font-medium tracking-wider border border-dark/5">Multi-Agent</span>
                        <span
                            class="px-4 py-2 bg-cream rounded-full text-xs font-medium tracking-wider border border-dark/5">Observability</span>
                    </div>
                    <a href="https://terny.ai/" target="_blank"
                        class="group inline-flex items-center gap-2 font-semibold text-sm hover:text-forest transition"
                        data-i18n="project_terny_link">
                        æŸ¥çœ‹ terny.ai Website
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                            stroke="currentColor" class="w-4 h-4 group-hover:translate-x-1 transition-transform">
                            <path stroke-linecap="round" stroke-linejoin="round"
                                d="M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3" />
                        </svg>
                    </a>
                </div>
            </div>

            <div class="grid md:grid-cols-12 gap-16 items-center fade-up">
                <div class="md:col-span-5 pr-0 md:pr-12">
                    <span
                        class="inline-flex items-center gap-1.5 px-3 py-1 mb-4 rounded-full text-xs font-semibold tracking-wider uppercase"
                        style="background:rgba(234,88,12,0.1);color:#ea580c;border:1px solid rgba(234,88,12,0.25);"
                        data-i18n="project_gnn_status">
                        In Progress
                    </span>
                    <h3 class="text-4xl mb-6 font-bold leading-tight" data-i18n="project_gnn_title">GNN &amp;
                        Transformer<br>ææ–™æ€§è´¨é¢„æµ‹å¼•æ“</h3>
                    <p class="text-forest mb-8 uppercase tracking-widest text-xs font-bold flex items-center gap-2">
                        <span class="w-2 h-2 rounded-full bg-forest"></span> <span data-i18n="project_gnn_category">Deep
                            Learning Engineering</span>
                    </p>
                    <p class="text-dark/70 mb-10 leading-loose font-light" data-i18n="project_gnn_desc">
                        <!-- é¢å‘ææ–™å­¦çº§ï¼ˆOC22ï¼‰æ•°æ®çš„æ·±åº¦å­¦ä¹ å·¥ç¨‹è½åœ°ã€‚ç‹¬ç«‹æ­å»ºå¹¶é«˜åº¦é‡æ„äº† PyTorch è®¡ç®—åº•åº§ï¼Œåˆ›æ–°æ€§åœ°ç»“åˆå›¾ç¥ç»ç½‘ç»œï¼ˆGNNï¼‰èˆ‡
                        Transformerã€‚é€šè¿‡å¤šç»´åº¦èŠ‚ç‚¹å‘é‡åŒ–æ˜ å°„è®¡ç®—ã€‚ -->
                        å›´ç»• OC22 ææ–™æ•°æ®é›†å®Œæˆæ·±åº¦å­¦ä¹ å·¥ç¨‹åŒ–éƒ¨ç½²ã€‚ç‹¬ç«‹æ­å»ºå¹¶æ·±åº¦é‡æ„ PyTorch è®­ç»ƒæ¡†æ¶ï¼Œä¼˜åŒ–è®¡ç®—å›¾ç»„ç»‡ä¸æ•°æ®æµæ°´çº¿ã€‚è®¾è®¡èåˆ GNN ä¸ Transformer
                        çš„æ··åˆæ¶æ„ï¼Œå®ç°å±€éƒ¨ç»“æ„ç‰¹å¾ä¸å…¨å±€å…³è”ä¿¡æ¯çš„è”åˆå»ºæ¨¡ã€‚é€šè¿‡å¤šç»´èŠ‚ç‚¹åµŒå…¥ä¸å‘é‡æ˜ å°„æœºåˆ¶ï¼Œæé«˜æ¨¡å‹åœ¨å¤æ‚ææ–™å›¾ç»“æ„ä¸Šçš„è¡¨è¾¾æ•ˆç‡ä¸è®­ç»ƒç¨³å®šæ€§ã€‚
                    </p>
                    <div class="flex flex-wrap gap-3">
                        <span
                            class="px-4 py-2 bg-cream rounded-full text-xs font-medium tracking-wider border border-dark/5">PyTorch</span>
                        <span
                            class="px-4 py-2 bg-cream rounded-full text-xs font-medium tracking-wider border border-dark/5">GNNs</span>
                        <span
                            class="px-4 py-2 bg-cream rounded-full text-xs font-medium tracking-wider border border-dark/5">Transformer</span>
                    </div>
                </div>
                <div class="md:col-span-7 relative group">
                    <div
                        class="absolute -inset-4 bg-gradient-to-tr from-forest/10 via-transparent to-transparent rounded-3xl blur-2xl opacity-0 group-hover:opacity-100 transition-opacity duration-700">
                    </div>
                    <div
                        class="relative aspect-video rounded-2xl overflow-hidden shadow-[0_25px_60px_-12px_rgba(0,0,0,0.5)] bg-[#0b0f0b] hover:translate-y-[-5px] transition-all duration-500 border border-dark/10 flex items-center justify-center">
                        <img src="assets/images/research.jpeg" alt="Engineering Research"
                            class="w-full h-auto object-cover transition-transform duration-700 group-hover:scale-[1.02]">
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Wave transition from white to dark map -->
    <div class="relative bg-white -mb-px">
        <svg viewBox="0 0 1440 80" xmlns="http://www.w3.org/2000/svg" class="block w-full" preserveAspectRatio="none">
            <path d="M0,40 C240,80 480,0 720,40 C960,80 1200,0 1440,40 L1440,80 L0,80 Z" fill="#F9F8F4" />
        </svg>
    </div>

    <!-- Leaflet CSS -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />

    <section id="education" class="relative w-full" style="height:100vh;">
        <div id="edu-map" class="absolute inset-0 z-0" style="filter:brightness(1.35) saturate(1.1);"></div>

        <!-- Reset to overview button -->
        <button id="map-reset" data-i18n="edu_reset"
            onclick="window.__eduMap && window.__eduMap.flyTo([42,45],3,{duration:1.2}); document.getElementById('photo-lightbox').style.opacity='0';"
            style="position:absolute;bottom:24px;right:24px;z-index:20;background:rgba(8,12,8,0.75);backdrop-filter:blur(12px);-webkit-backdrop-filter:blur(12px);border:1px solid rgba(249,248,244,0.15);color:rgba(249,248,244,0.8);font-size:11px;letter-spacing:0.08em;text-transform:uppercase;padding:8px 16px;border-radius:999px;cursor:pointer;transition:all 0.2s;"
            onmouseover="this.style.background='rgba(45,79,30,0.25)';this.style.borderColor='rgba(74,122,58,0.5)';this.style.color='#fff'"
            onmouseout="this.style.background='rgba(8,12,8,0.75)';this.style.borderColor='rgba(249,248,244,0.15)';this.style.color='rgba(249,248,244,0.8)'">
            âŠ• å›åˆ°å…¨æ™¯
        </button>

        <!-- Floating card overlay -->
        <div class="absolute top-0 left-0 h-full z-10 flex flex-col justify-center p-8 md:p-12"
            style="width:min(460px,90vw);pointer-events:none;">
            <div class="rounded-3xl p-7 space-y-5"
                style="background:rgba(8,12,8,0.92);backdrop-filter:blur(20px);-webkit-backdrop-filter:blur(20px);border:1px solid rgba(45,79,30,0.25);pointer-events:auto;box-shadow:0 24px 60px -12px rgba(0,0,0,0.7);">
                <h2 class="text-2xl md:text-3xl font-medium text-white mb-4" data-i18n="edu_title">Education <span
                        style="color:#4A7A3A;" data-i18n="edu_title_sub">Background</span></h2>

                <div class="group cursor-pointer edu-card rounded-xl p-3 -mx-2 hover:bg-white/5 transition"
                    data-lat="31.02" data-lng="121.43">
                    <div class="flex items-center gap-3 mb-1">
                        <span style="width:10px;height:10px;border-radius:50%;background:#ffffff;flex-shrink:0;"></span>
                        <h3 class="text-base font-semibold" style="color:#ffffff;" data-i18n="edu_name_sjtu">ä¸Šæµ·äº¤é€šå¤§å­¦</h3>
                    </div>
                    <p data-i18n="edu_detail_sjtu"
                        style="color:rgba(249,248,244,0.65);font-size:13px;letter-spacing:0.06em;text-transform:uppercase;margin-left:22px;">
                        ECE æœ¬ç§‘ Â· ä¸­å›½Â·ä¸Šæµ· Â· 2026å¹´8æœˆ</p>
                    <p data-i18n="edu_extra_sjtu"
                        style="color:rgba(249,248,244,0.5);font-size:13px;margin-left:22px;margin-top:4px;">STAT4060J
                        Computational Methods</p>
                </div>

                <div style="border-top:1px solid rgba(255,255,255,0.07);"></div>

                <div class="group cursor-pointer edu-card rounded-xl p-3 -mx-2 hover:bg-white/5 transition"
                    data-lat="35.52" data-lng="139.72">
                    <div class="flex items-center gap-3 mb-1">
                        <span style="width:8px;height:8px;border-radius:50%;background:#4A7A3A;flex-shrink:0;"></span>
                        <h3 class="text-base font-medium" style="color:rgba(255,255,255,0.9);"
                            data-i18n="edu_name_keio">åº†åº”ä¹‰å¡¾å¤§å­¦</h3>
                    </div>
                    <p data-i18n="edu_detail_keio"
                        style="color:rgba(249,248,244,0.65);font-size:13px;letter-spacing:0.06em;text-transform:uppercase;margin-left:20px;">
                        CS äº¤æ¢ç”Ÿ Â· æ—¥æœ¬Â·ä¸œäº¬ Â· 2025å¹´3æœˆâ€“8æœˆ</p>
                </div>

                <div class="group cursor-pointer edu-card rounded-xl p-3 -mx-2 hover:bg-white/5 transition"
                    data-lat="48.30" data-lng="4.08">
                    <div class="flex items-center gap-3 mb-1">
                        <span style="width:8px;height:8px;border-radius:50%;background:#4A7A3A;flex-shrink:0;"></span>
                        <h3 class="text-base font-medium" style="color:rgba(255,255,255,0.9);" data-i18n="edu_name_utt">
                            ç‰¹é²ç“¦ç§‘æŠ€å¤§å­¦</h3>
                    </div>
                    <p data-i18n="edu_detail_utt"
                        style="color:rgba(249,248,244,0.65);font-size:13px;letter-spacing:0.06em;text-transform:uppercase;margin-left:20px;">
                        æ³•è¯­äº¤æ¢ç”Ÿ Â· æ³•å›½Â·ç‰¹é²ç“¦ Â· 2025å¹´1æœˆâ€“2æœˆ</p>
                </div>

                <div class="group cursor-pointer edu-card rounded-xl p-3 -mx-2 hover:bg-white/5 transition"
                    data-lat="34.84" data-lng="135.36">
                    <div class="flex items-center gap-3 mb-1">
                        <span style="width:8px;height:8px;border-radius:50%;background:#4A7A3A;flex-shrink:0;"></span>
                        <h3 class="text-base font-medium" style="color:rgba(255,255,255,0.9);"
                            data-i18n="edu_name_kwansei">å…³è¥¿å­¦é™¢å¤§å­¦</h3>
                    </div>
                    <p data-i18n="edu_detail_kwansei"
                        style="color:rgba(249,248,244,0.65);font-size:13px;letter-spacing:0.06em;text-transform:uppercase;margin-left:20px;">
                        æ³•å¾‹äº¤æ¢ç”Ÿ Â· æ—¥æœ¬Â·å…µåº“ Â· 2024å¹´1æœˆâ€“2æœˆ</p>
                </div>

                <p style="color:rgba(249,248,244,0.4);font-size:11px;letter-spacing:0.08em;margin-top:8px;"
                    data-i18n="edu_hint">â†
                    ç‚¹å‡»ä¸Šæ–¹æ¡ç›®å¯å®šä½åˆ°åœ°å›¾</p>
            </div>
        </div>
        <!-- Photo Lightbox -->
        <div id="photo-lightbox"
            style="position:absolute;inset:0;z-index:50;display:flex;align-items:center;justify-content:flex-end;padding:2rem;opacity:0;pointer-events:none;transition:opacity 0.35s ease;">
            <div
                style="background:rgba(8,12,8,0.92);backdrop-filter:blur(24px);-webkit-backdrop-filter:blur(24px);border:1px solid rgba(45,79,30,0.35);border-radius:20px;width:min(400px,90vw);max-height:80vh;overflow-y:auto;padding:24px;box-shadow:0 32px 80px rgba(0,0,0,0.7);pointer-events:auto;">
                <div style="display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:16px;">
                    <div>
                        <h3 id="lb-title" style="color:#f9f8f4;font-size:16px;font-weight:600;margin:0;"></h3>
                        <p id="lb-sub"
                            style="color:rgba(74,122,58,0.9);font-size:11px;text-transform:uppercase;letter-spacing:0.08em;margin:4px 0 0;">
                        </p>
                    </div>
                    <button id="lb-close"
                        style="background:rgba(255,255,255,0.08);border:none;color:rgba(255,255,255,0.6);width:30px;height:30px;border-radius:50%;cursor:pointer;font-size:16px;display:flex;align-items:center;justify-content:center;flex-shrink:0;margin-left:12px;"
                        onmouseover="this.style.background='rgba(255,255,255,0.18)'"
                        onmouseout="this.style.background='rgba(255,255,255,0.08)'">âœ•</button>
                </div>
                <div id="lb-grid"
                    style="display:flex;overflow-x:auto;gap:0;scroll-snap-type:x mandatory;scrollbar-width:none;-ms-overflow-style:none;padding-bottom:10px;cursor:grab;"
                    onmousedown="this.style.cursor='grabbing'" onmouseup="this.style.cursor='grab'">
                </div>
                <style>
                    #lb-grid::-webkit-scrollbar {
                        display: none;
                    }

                    #lb-grid>.lb-page {
                        flex: 0 0 100%;
                        /* Each page takes full width */
                        scroll-snap-align: start;
                        display: grid;
                        grid-template-columns: repeat(2, 1fr);
                        grid-template-rows: repeat(2, 1fr);
                        gap: 12px;
                        /* Gap between photos within a page */
                        padding-right: 12px;
                        /* To match the gap on the right edge */
                        box-sizing: border-box;
                    }

                    #lb-grid>.lb-page:last-child {
                        padding-right: 0;
                        /* No padding on the last page */
                    }

                    #lb-grid img {
                        width: 100%;
                        height: 100%;
                        object-fit: cover;
                        border-radius: 8px;
                    }
                </style>
            </div>
        </div>
    </section>

    <!-- Scholarships Section -->
    <section id="scholarships" class="py-32 px-8 bg-cream relative overflow-hidden">
        <span
            class="absolute -top-10 -right-10 text-[10rem] text-dark/4 leading-none select-none z-0 font-bold">AWARDS.</span>

        <div class="max-w-6xl mx-auto relative z-10">
            <div class="flex items-end gap-4 mb-20 pb-8 border-b border-dark/10 fade-up">
                <h2 class="text-5xl md:text-6xl font-medium leading-tight" data-i18n="award_title">Scholarships
                    <br><span class="text-forest" data-i18n="award_title_sub">&amp; Awards</span>
                </h2>
                <p class="text-dark/40 text-sm mb-2 font-medium tracking-wider uppercase ml-auto" data-i18n="award_sub">
                    / Honors</p>
            </div>

            <div class="grid md:grid-cols-2 gap-16 items-center fade-up">

                <!-- Left: Interactive Stacked Photos -->
                <div id="photo-stack" class="relative cursor-pointer" style="height: 480px;" onclick="swapPhotos()"
                    title="é»æ“Šåˆ‡æ›">

                    <!-- Photo A: CV_BXAI.JPG -->
                    <div id="photo-a"
                        style="position:absolute;width:80%;left:0;top:0;z-index:2;transition:all 0.6s cubic-bezier(0.34, 1.56, 0.64, 1);">
                        <div
                            style="border-radius:1.5rem;overflow:hidden;transform:rotate(-2deg);box-shadow:0 20px 50px -10px rgba(45,79,30,0.25);transition:box-shadow 0.4s ease;">
                            <img src="assets/images/CV_BXAI.JPG" alt="Scholarship Award"
                                style="width:100%;aspect-ratio:4/3;object-fit:cover;display:block;">
                        </div>
                    </div>

                    <!-- Photo B: CV_Bxai2.jpg (shifted bottom-right, 50% translucent when in back) -->
                    <div id="photo-b"
                        style="position:absolute;width:80%;left:20%;top:20%;z-index:1;opacity:0.5;transition:all 0.6s cubic-bezier(0.34, 1.56, 0.64, 1);">
                        <div
                            style="border-radius:1.5rem;overflow:hidden;transform:rotate(3deg);box-shadow:0 12px 30px -8px rgba(0,0,0,0.18);transition:box-shadow 0.4s ease;">
                            <img src="assets/images/CV_Bxai2.jpg" alt="Bai Xian Award"
                                style="width:100%;aspect-ratio:4/3;object-fit:cover;display:block;">
                        </div>
                    </div>

                    <!-- Click hint -->
                    <div style="position:absolute;bottom:-10px;left:50%;transform:translateX(-50%);font-size:11px;letter-spacing:0.12em;text-transform:uppercase;color:rgba(45,79,30,0.45);white-space:nowrap;user-select:none;"
                        data-i18n="award_hint">
                    </div>
                </div>

                <style>
                    .extracting {
                        transform: translate(40%, -10%) rotate(10deg) !important;
                        opacity: 0.8 !important;
                        /* Slightly more visible while extracting */
                    }
                </style>
                <script>
                        (function () {
                            let aOnTop = true;
                            let isAnimating = false;

                            window.swapPhotos = function () {
                                if (isAnimating) return;
                                isAnimating = true;

                                const a = document.getElementById('photo-a');
                                const b = document.getElementById('photo-b');
                                const front = aOnTop ? a : b;
                                const back = aOnTop ? b : a;

                                // 1. "Extract" the back photo
                                back.style.zIndex = '3';
                                back.style.opacity = '1'; // Make fully opaque as it moves
                                back.classList.add('extracting');

                                setTimeout(() => {
                                    // 2. Swap positions and z-index internally
                                    // Move current back to top-left (front position)
                                    back.style.left = '0';
                                    back.style.top = '0';
                                    back.style.opacity = '1'; // Ensure new front is opaque
                                    back.querySelector('div').style.transform = 'rotate(-2deg)';

                                    // Move current front to bottom-right (back position)
                                    front.style.left = '20%';
                                    front.style.top = '20%';
                                    front.style.opacity = '0.5'; // Make new back translucent
                                    front.style.zIndex = '1';
                                    front.querySelector('div').style.transform = 'rotate(3deg)';

                                    // 3. Slide the new front into place
                                    setTimeout(() => {
                                        back.classList.remove('extracting');
                                        back.style.zIndex = '2';
                                        aOnTop = !aOnTop;
                                        setTimeout(() => { isAnimating = false; }, 400);
                                    }, 50);
                                }, 300);
                            };
                        })();
                </script>

                <!-- Right: Scholarship List -->
                <div class="space-y-10">

                    <!-- Scholarship 1 -->
                    <div class="flex gap-6 items-start group">
                        <div class="flex-shrink-0 mt-1">
                            <div
                                class="w-10 h-10 rounded-full bg-forest/10 flex items-center justify-center group-hover:bg-forest/20 transition-colors duration-300">
                                <svg class="w-5 h-5 text-forest" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                                    stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round"
                                        d="M4.26 10.147a60.438 60.438 0 0 0-.491 6.347A48.62 48.62 0 0 1 12 20.904a48.62 48.62 0 0 1 8.232-4.41 60.46 60.46 0 0 0-.491-6.347m-15.482 0a50.636 50.636 0 0 0-2.658-.813A59.906 59.906 0 0 1 12 3.493a59.903 59.903 0 0 1 10.399 5.84c-.896.248-1.783.52-2.658.814m-15.482 0A50.717 50.717 0 0 1 12 13.489a50.702 50.702 0 0 1 3.741-1.342m-7.482 0c.029-.296.06-.592.094-.888a51.198 51.198 0 0 0-3.476-.764m3.38-1.58a51.176 51.176 0 0 1 10.834 0" />
                                </svg>
                            </div>
                        </div>
                        <div>
                            <div class="flex items-center gap-3 mb-1">
                                <h3 class="text-xl font-semibold" data-i18n="award_name_1">å°æ¹¾å­¦ç”Ÿå¥–å­¦é‡‘</h3>
                                <span class="text-xs font-mono text-forest/70 tracking-wider">2023 â€“ 2025</span>
                            </div>
                            <p class="text-dark/50 text-sm leading-relaxed" data-i18n="award_desc_1">
                                ç”±è´¢æ”¿éƒ¨ä¸æ•™è‚²éƒ¨å…±åŒè®¾ç«‹ï¼Œè¡¨å½°åœ¨å¤§é™†é«˜æ ¡å°±è¯»çš„ä¼˜ç§€å°æ¹¾å­¦ç”Ÿã€‚</p>
                        </div>
                    </div>

                    <div class="h-px bg-dark/8"></div>

                    <!-- Scholarship 2 -->
                    <div class="flex gap-6 items-start group">
                        <div class="flex-shrink-0 mt-1">
                            <div
                                class="w-10 h-10 rounded-full bg-forest/10 flex items-center justify-center group-hover:bg-forest/20 transition-colors duration-300">
                                <svg class="w-5 h-5 text-forest" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                                    stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round"
                                        d="M11.48 3.499a.562.562 0 0 1 1.04 0l2.125 5.111a.563.563 0 0 0 .475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 0 0-.182.557l1.285 5.385a.562.562 0 0 1-.84.61l-4.725-2.885a.562.562 0 0 0-.586 0L6.982 20.54a.562.562 0 0 1-.84-.61l1.285-5.386a.562.562 0 0 0-.182-.557l-4.204-3.602a.562.562 0 0 1 .321-.988l5.518-.442a.563.563 0 0 0 .475-.345L11.48 3.5Z" />
                                </svg>
                            </div>
                        </div>
                        <div>
                            <div class="flex items-center gap-3 mb-1">
                                <h3 class="text-xl font-semibold" data-i18n="award_name_2">ç™¾è´¤äºšæ´²æœªæ¥é¢†è¢–å¥–å­¦é‡‘</h3>
                                <span class="text-xs font-mono text-forest/70 tracking-wider">2024 â€“ 2026</span>
                            </div>
                            <p class="text-dark/50 text-sm leading-relaxed" data-i18n="award_desc_2">
                                ç”±ç™¾è´¤æ•™è‚²åŸºé‡‘ä¼šä¸ç™¾è´¤äºšæ´²ç ”ç©¶é™¢åˆ›ç«‹ï¼Œèµ„åŠ©äºšæ´²ä¼˜ç§€é’å¹´èµ´é¡¶å°–å¤§å­¦æ”»è¯»å­¦ã€ç¡•å£«ï¼ŒåŸ¹è‚²è·¨æ–‡åŒ–ç†è§£ä¸äºšæ´²é’å¹´é¢†è¢–åŠ›ã€‚</p>
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </section>

    <!-- Leaflet JS -->
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script>
        (function () {
            const map = window.__eduMap = L.map('edu-map', {
                center: [42, 45],
                zoom: 3,
                zoomControl: false,
                scrollWheelZoom: false,
            });
            L.tileLayer('https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png', {
                attribution: '&copy; <a href="https://carto.com/">CARTO</a> &copy; <a href="https://www.openstreetmap.org/copyright">OSM</a>',
                subdomains: 'abcd', maxZoom: 19
            }).addTo(map);

            const translations = {
                zh: {
                    nav_projects: "é¡¹ç›®ç»å†",
                    nav_about: "å…³äºæˆ‘",
                    nav_contact: "è”ç³»æ–¹å¼",
                    nav_cv: "ç®€å†",
                    hero_major: "ä¸Šæµ·äº¤å¤§ ECE '26 / æ¢ç´¢ AI å·¥ç¨‹",
                    hero_title: "æ¢ç´¢<span class='text-dark relative'>Agentic</span><br>çš„æ— é™å¯èƒ½",
                    hero_button: "æµè§ˆä½œå“",
                    hero_cv: "æŸ¥çœ‹ç®€å†",
                    hero_hi: "å—¨ï¼æˆ‘æ˜¯é™ˆä»¥çŠ âœ§",
                    works_title: "æ ¸å¿ƒ<br><span class='text-forest'>é¡¹ç›®ç»å†</span>",
                    works_sub: "/ å·¥ç¨‹è½åœ° + æ·±åº¦å­¦ä¹ ç ”ç©¶",
                    project_terny_category: "Agent æ™ºèƒ½ç³»ç»Ÿæ¶æ„",
                    project_terny_desc: "è®¾è®¡åŸºäº Multi-Agent æ¶æ„çš„ç§‘ç ”æ™ºèƒ½åŒ¹é…ç³»ç»Ÿã€‚ç»“åˆè‡ªåŠ¨åŒ–çˆ¬è™«ä¸ LLMï¼Œå¯¹éç»“æ„åŒ–ç§‘ç ”ç½‘ç«™è¿›è¡Œè¯­ä¹‰è§£æä¸ç»“æ„åŒ–æŠ½å–ã€‚é€šè¿‡å¤šæ™ºèƒ½ä½“ååŒæµæ°´çº¿ï¼Œåˆ†æå­¦ç”Ÿèƒ½åŠ›ã€æœºä¼šè¯†åˆ«ä¸åŒ¹é…å†³ç­–ï¼Œå®ç°å…¨é“¾è·¯è‡ªä¸»æ¨èã€‚",
                    project_terny_link: "æŸ¥çœ‹ terny.ai å®˜ç½‘",
                    project_gnn_status: "è¿›è¡Œä¸­",
                    project_gnn_title: "GNN & Transformer<br>ææ–™æ€§è´¨é¢„æµ‹å¼•æ“",
                    project_gnn_category: "æ·±åº¦å­¦ä¹ å·¥ç¨‹è½åœ°",
                    project_gnn_desc: "åŸºäº OC22 æ•°æ®é›†å®ç°æ™¶ä½“ç»“æ„â€“æ€§è´¨é¢„æµ‹çš„æ·±åº¦å­¦ä¹ æ¡†æ¶ã€‚è®¾è®¡èåˆ GNN ä¸ Transformer çš„æ··åˆæ¶æ„ï¼Œå°†å±€éƒ¨é”®å…³è¿å‡ ä½•ä¸é•¿ç¨‹ç»“æ„å…³è”è”åˆå»ºæ¨¡ï¼Œå®ç°å¯¹æ™¶ä½“å›¾ç»“æ„çš„é«˜è¡¨è¾¾æ€§å‰¥ç¦»ã€‚",
                    edu_reset: "âŠ• å›åˆ°å…¨æ™¯",
                    edu_title: "æ•™è‚²",
                    edu_title_sub: "èƒŒæ™¯",
                    edu_hint: "â† ç‚¹å‡»ä¸Šæ–¹æ¡ç›®å¯å®šä½åˆ°åœ°å›¾",
                    award_title: "å¥–å­¦é‡‘",
                    award_title_sub: "& è£èª‰",
                    award_sub: "/ ä¸ªäººæˆå°±",
                    award_hint: "ç‚¹å‡»åˆ‡æ¢ç…§ç‰‡",
                    award_name_1: "å°æ¹¾å­¦ç”Ÿå¥–å­¦é‡‘",
                    award_desc_1: "ç”±è´¢æ”¿éƒ¨ä¸æ•™è‚²éƒ¨å…±åŒè®¾ç«‹ï¼Œè¡¨å½°åœ¨å¤§é™†é«˜æ ¡å°±è¯»çš„ä¼˜ç§€å°æ¹¾å­¦ç”Ÿã€‚",
                    award_name_2: "ç™¾è´¤äºšæ´²æœªæ¥é¢†è¢–å¥–å­¦é‡‘",
                    award_desc_2: "ç”±ç™¾è´¤æ•™è‚²åŸºé‡‘ä¼šä¸ç™¾è´¤äºšæ´²ç ”ç©¶é™¢åˆ›ç«‹ï¼Œèµ„åŠ©äºšæ´²ä¼˜ç§€é’å¹´èµ´é¡¶å°–å¤§å­¦æ”»è¯»å­¦ã€ç¡•å£«ï¼ŒåŸ¹è‚²è·¨æ–‡åŒ–ç†è§£ä¸äºšæ´²é’å¹´é¢†è¢–åŠ›ã€‚",
                    contact_title: "éšæ—¶ä¸æˆ‘è”ç³» ğŸ‘‡",
                    //contact_sub: "æ— è®ºæ˜¯å®ä¹ æœºä¼šã€é¡¹ç›®äº¤æµï¼Œè¿˜æ˜¯æƒ³çº¯ç²¹èŠèŠ AI â˜•",
                    //contact_form_title: "æœ‰é—®é¢˜æƒ³é—®æˆ‘ï¼Ÿ",
                    contact_location: "ä¸­å›½Â·ä¸Šæµ· Â· æ”¯æŒè¿œç¨‹å®ä¹ ",
                    lightbox_no_photos: "æš‚æ— ç…§ç‰‡",
                    marker_hint: "ğŸ–¼ ç‚¹å‡»æŸ¥çœ‹ç…§ç‰‡",
                    edu_name_sjtu: "ä¸Šæµ·äº¤é€šå¤§å­¦",
                    edu_detail_sjtu: "ECE æœ¬ç§‘ Â· ä¸­å›½Â·ä¸Šæµ· Â· 2026å¹´8æœˆ",
                    edu_extra_sjtu: "STAT4060J Â· STAT4710J æ•°æ®ç§‘å­¦",
                    edu_name_keio: "åº†åº”ä¹‰å¡¾å¤§å­¦",
                    edu_detail_keio: "CS äº¤æ¢ç”Ÿ Â· æ—¥æœ¬Â·ä¸œäº¬ Â· 2025å¹´3æœˆâ€“8æœˆ",
                    edu_name_utt: "ç‰¹é²ç“¦ç§‘æŠ€å¤§å­¦",
                    edu_detail_utt: "æ³•è¯­äº¤æ¢ç”Ÿ Â· æ³•å›½Â·ç‰¹é²ç“¦ Â· 2025å¹´1æœˆâ€“2æœˆ",
                    edu_name_kwansei: "å…³è¥¿å­¦é™¢å¤§å­¦",
                    edu_detail_kwansei: "æ³•å¾‹äº¤æ¢ç”Ÿ Â· æ—¥æœ¬Â·å…µåº“ Â· 2024å¹´1æœˆâ€“2æœˆ"
                },
                en: {
                    nav_projects: "Projects",
                    nav_about: "About",
                    nav_contact: "Contact",
                    nav_cv: "Resume",
                    hero_major: "UM-SJTU JI ECE '26 / Exploring AI",
                    hero_title: "Exploring<br><span class='text-dark relative'>Agentic</span><br>Possibilities.",
                    hero_button: "Explore Work",
                    hero_cv: "View Resume",
                    hero_hi: "Hi! I'm Yishan CHEN âœ§",
                    works_title: "Featured <br><span class='text-forest'>Projects</span>",
                    works_sub: "/ Engineering + Research",
                    project_terny_category: "Agentic System Architecture",
                    project_terny_desc: "Designed and implemented an end-to-end research matching system based on Multi-Agent architecture. Integrated automated scrapers and LLMs to extract structured data from complex academic websites. Autonomous recommendation through coordinated agents for profile understanding, opportunity ranking, and decision making.",
                    project_terny_link: "Visit terny.ai Website",
                    project_gnn_status: "In Progress",
                    project_gnn_title: "GNN & Transformer<br>Material Property Engine",
                    project_gnn_category: "Deep Learning Engineering",
                    project_gnn_desc: "Implemented a deep learning framework on the OC22 dataset for structureâ€“property prediction in heterogeneous catalysis. Developed a hybrid GNNâ€“Transformer architecture to integrate local bonding geometry with long-range structural correlations for expressive crystal graph representations.",
                    edu_reset: "âŠ• Reset to Overview",
                    edu_title: "Education",
                    edu_title_sub: "Background",
                    edu_hint: "â† Click entries to locate on map",
                    award_title: "Scholarships",
                    award_title_sub: "& Awards",
                    award_sub: "/ Honors",
                    award_hint: "Click to switch photo",
                    award_name_1: "Taiwan Student Scholarship",
                    award_desc_1: "Established by China's Ministry of Finance & Education for outstanding Taiwanese students studying in mainland China.",
                    award_name_2: "BXAI Future Leaders Program",
                    award_desc_2: "Founded by Bai Xian Education Foundation & Asia Institute (AFLSP), funding outstanding Asian youth for undergraduate and master's studies at top universities, to cultivate cross-cultural understanding and next-generation Asian leadership.",
                    contact_title: "Reach out to me here",
                    //contact_sub: "Feel free to ping me for internship opportunities, discussing ideas, or virtual coffee â˜•",
                    //contact_form_title: "Have a Question?",
                    contact_location: "Shanghai, China Â· Available for Remote Internship",
                    lightbox_no_photos: "No photos available",
                    marker_hint: "ğŸ–¼ Click to view photos",
                    edu_name_sjtu: "Shanghai Jiao Tong University",
                    edu_detail_sjtu: "B.S. ECE Â· Shanghai, China Â· Aug 2026",
                    edu_extra_sjtu: "STAT4060J Computational Methods<br>STAT4710J Data Science",
                    edu_name_keio: "Keio University",
                    edu_detail_keio: "Exchange CS Â· Tokyo, Japan Â· Marâ€“Aug 2025",
                    edu_name_utt: "Univ. of Technology of Troyes",
                    edu_detail_utt: "Exchange French Â· Troyes, France Â· Janâ€“Feb 2025",
                    edu_name_kwansei: "Kwansei Gakuin University",
                    edu_detail_kwansei: "Exchange Law Â· Hyogo, Japan Â· Janâ€“Feb 2024"
                }
            };

            let currentLang = localStorage.getItem('preferredLang') || 'en';

            function updateContent() {
                document.querySelectorAll('[data-i18n]').forEach(el => {
                    const key = el.getAttribute('data-i18n');
                    if (translations[currentLang][key]) {
                        if (el.tagName === 'INPUT' || el.tagName === 'TEXTAREA') {
                            el.placeholder = translations[currentLang][key];
                        } else {
                            el.innerHTML = translations[currentLang][key];
                        }
                    }
                });

                // Update dynamic components
                updateMapMarkers();
                updateScholarshipDetails();
            }

            function setLanguage(lang) {
                currentLang = lang;
                localStorage.setItem('preferredLang', lang);
                updateContent();
            }

            document.getElementById('lang-toggle').addEventListener('click', () => {
                setLanguage(currentLang === 'en' ? 'zh' : 'en');
            });


            function makeIcon(color, r) {
                return L.divIcon({
                    className: '',
                    html: '<div style="width:' + r * 2 + 'px;height:' + r * 2 + 'px;border-radius:50%;background:' + color + ';border:2px solid rgba(255,255,255,0.8);box-shadow:0 0 0 ' + (r + 2) + 'px ' + color + '33,0 0 20px ' + color + '55;cursor:pointer;"></div>',
                    iconSize: [r * 2, r * 2], iconAnchor: [r, r]
                });
            }

            // Photos per city â€” add your image filenames here!
            // Format: { src: 'filename.jpg', caption: 'optional caption' }
            const places = [
                {
                    lat: 31.02, lng: 121.43,
                    name: { zh: 'ä¸Šæµ·äº¤é€šå¤§å­¦', en: 'SJTU' },
                    sub: { zh: 'ä¸­å›½Â·ä¸Šæµ·', en: 'Shanghai, China' },
                    details: { zh: 'ECE æœ¬ç§‘ Â· 2026å¹´8æœˆ', en: 'B.S. ECE Â· Aug 2026' },
                    extra: { zh: 'STAT4060J Â· æ•°æ®ç§‘å­¦', en: 'STAT4060J Â· Data Science' },
                    color: '#ffffff', r: 8,
                    photos: [
                        { src: 'assets/images/sh1.JPG', caption: 'SJTU Campus' },
                        { src: 'assets/images/sh2.JPG', caption: 'Shanghai View' },
                        { src: 'assets/images/sh3.jpg', caption: 'Academic Life' },
                        { src: 'assets/images/sh4.JPG', caption: 'Graduation' },
                    ]
                },
                {
                    lat: 35.52, lng: 139.72,
                    name: { zh: 'åº†åº”ä¹‰å¡¾å¤§å­¦', en: 'Keio University' },
                    sub: { zh: 'æ—¥æœ¬Â·ä¸œäº¬', en: 'Tokyo, Japan' },
                    details: { zh: 'CS äº¤æ¢ç”Ÿ Â· 2025å¹´3æœˆâ€“8æœˆ', en: 'Exchange CS Â· Marâ€“Aug 2025' },
                    color: '#4A7A3A', r: 6,
                    photos: [
                        { src: 'assets/images/Toyko1.JPG', caption: 'Keio University, Tokyo' },
                        { src: 'assets/images/Toyko2.JPG', caption: 'Tokyo Campus' },
                        { src: 'assets/images/Toyko3.JPG', caption: 'Keio Library' },
                        { src: 'assets/images/Toyko4.JPG', caption: 'Tokyo View' },
                        { src: 'assets/images/Toyko5.JPG', caption: 'Mita Campus' },
                        { src: 'assets/images/Toyko6.JPG', caption: 'Keio Spirit' },
                        { src: 'assets/images/Toyko7.JPG', caption: 'Tokyo Life' },
                        { src: 'assets/images/Toyko8.jpg', caption: 'Tokyo Night' },
                    ]
                },
                {
                    lat: 48.30, lng: 4.08,
                    name: { zh: 'ç‰¹é²ç“¦ç§‘æŠ€å¤§å­¦', en: 'UTT' },
                    sub: { zh: 'æ³•å›½Â·ç‰¹é²ç“¦', en: 'Troyes, France' },
                    details: { zh: 'æ³•è¯­äº¤æ¢ç”Ÿ Â· 2025å¹´1æœˆâ€“2æœˆ', en: 'Exchange French Â· Janâ€“Feb 2025' },
                    color: '#4A7A3A', r: 6,
                    photos: [
                        { src: 'assets/images/Frence1.JPG', caption: 'Troyes, France' },
                        { src: 'assets/images/Frence2.JPG', caption: 'France Campus' },
                        { src: 'assets/images/Frence3.jpg', caption: 'Troyes City' },
                        { src: 'assets/images/Frence4.JPG', caption: 'France Trip' },
                        { src: 'assets/images/Frence5.JPG', caption: 'France Trip' },
                    ]
                },
                {
                    lat: 34.84, lng: 135.36,
                    name: { zh: 'å…³è¥¿å­¦é™¢å¤§å­¦', en: 'Kwansei Gakuin' },
                    sub: { zh: 'æ—¥æœ¬Â·å…µåº“', en: 'Hyogo, Japan' },
                    details: { zh: 'æ³•å¾‹äº¤æ¢ç”Ÿ Â· 2024å¹´1æœˆâ€“2æœˆ', en: 'Exchange Law Â· Janâ€“Feb 2024' },
                    color: '#4A7A3A', r: 6,
                    photos: []
                },
            ];

            const markers = [];
            function updateMapMarkers() {
                markers.forEach(m => map.removeLayer(m));
                markers.length = 0;
                places.forEach(p => {
                    const marker = L.marker([p.lat, p.lng], { icon: makeIcon(p.color, p.r) }).addTo(map);
                    marker.bindTooltip(
                        '<b>' + p.name[currentLang] + '</b>' +
                        (p.photos.length > 0 ? `<br><span style="color:#4A7A3A;font-size:10px">${translations[currentLang].marker_hint}</span>` : `<br><span style="opacity:0.5;font-size:10px">${p.sub[currentLang]}</span>`),
                        { permanent: false, direction: 'top', offset: [0, -p.r - 4], className: 'edu-tip' }
                    );
                    marker.on('click', () => {
                        map.flyTo([p.lat, p.lng - 1], 7, { duration: 1.4, easeLinearity: 0.3 });
                        showLightbox(p);
                    });
                    markers.push(marker);
                });
            }

            // Bind static edu-card click handlers
            document.querySelectorAll('.edu-card').forEach(card => {
                card.addEventListener('click', function () {
                    const lat = parseFloat(this.dataset.lat);
                    const lng = parseFloat(this.dataset.lng);
                    const place = places.find(p => Math.abs(p.lat - lat) < 0.1 && Math.abs(p.lng - lng) < 0.1);
                    map.flyTo([lat, lng - 1], 7, { duration: 1.8, easeLinearity: 0.25 });
                    if (place) showLightbox(place);
                });
            });

            function updateScholarshipDetails() {
                const s1 = document.querySelector('#scholarships h3:first-of-type');
                const p1 = s1.nextElementSibling.nextElementSibling;
                const s2 = document.querySelectorAll('#scholarships h3')[1];
                const p2 = s2.nextElementSibling.nextElementSibling;

                if (s1) s1.innerHTML = translations[currentLang].award_name_1;
                if (p1) p1.innerHTML = translations[currentLang].award_desc_1;
                if (s2) s2.innerHTML = translations[currentLang].award_name_2;
                if (p2) p2.innerHTML = translations[currentLang].award_desc_2;
            }

            // Photo lightbox element
            const lightbox = document.getElementById('photo-lightbox');
            const lbTitle = document.getElementById('lb-title');
            const lbSub = document.getElementById('lb-sub');
            const lbGrid = document.getElementById('lb-grid');
            function showLightbox(place) {
                lbTitle.textContent = place.name[currentLang];
                lbSub.textContent = place.sub[currentLang];
                lbGrid.innerHTML = '';
                if (place.photos.length === 0) {
                    lbGrid.innerHTML = `<p style="color:rgba(255,255,255,0.35);font-size:12px;flex:1;text-align:center;padding:40px 0;">${translations[currentLang].lightbox_no_photos}</p>`;
                } else {
                    // Chunk photos into groups of 4 (2x2 grid per page)
                    for (let i = 0; i < place.photos.length; i += 4) {
                        const page = document.createElement('div');
                        page.style.cssText = 'flex:0 0 100%; display:grid; grid-template-columns:repeat(2, 1fr); gap:10px; scroll-snap-align:start; padding:4px;';

                        const chunk = place.photos.slice(i, i + 4);
                        chunk.forEach(ph => {
                            const img = document.createElement('img');
                            img.src = ph.src;
                            img.alt = ph.caption || '';
                            img.style.cssText = 'width:100%;aspect-ratio:4/3;object-fit:cover;border-radius:10px;user-select:none;pointer-events:none;';
                            page.appendChild(img);
                        });
                        lbGrid.appendChild(page);
                    }
                }
                lightbox.style.opacity = '1';
                lbGrid.scrollLeft = 0; // Reset scroll position
            }

            document.getElementById('lb-close').addEventListener('click', () => {
                lightbox.style.opacity = '0';
            });

            // Initial render
            updateContent();
        })();
    </script>
    <style>
        .edu-tip {
            background: rgba(255, 255, 255, 0.95) !important;
            border: 1px solid rgba(45, 79, 30, 0.45) !important;
            color: #1A1A1A !important;
            border-radius: 10px !important;
            padding: 6px 12px !important;
            font-size: 12px;
            box-shadow: 0 6px 24px rgba(0, 0, 0, 0.5);
        }

        .edu-tip::before {
            border-top-color: rgba(45, 79, 30, 0.45) !important;
        }
    </style>

    <footer id="contact" class="bg-cream text-dark relative z-10">
        <!-- Top two-column section -->
        <div class="max-w-6xl mx-auto px-8 py-20 grid md:grid-cols-2 gap-16 fade-up">

            <!-- Left: Tagline -->
            <div class="flex flex-col justify-center">
                <h2 class="text-3xl md:text-4xl font-bold mb-6" data-i18n="contact_title">Reach out to me here
                </h2>
                <p class="text-dark/50 text-sm leading-relaxed max-w-sm" data-i18n="contact_sub">
                    Feel free to ping me for internship or discussing ideas. â˜•
                </p>
            </div>

            <!-- Right: Contact details -->
            <div class="flex flex-col justify-center space-y-5">

                <!-- Location -->
                <div class="flex items-center gap-4 text-dark/60 text-sm">
                    <svg class="w-5 h-5 flex-shrink-0 text-forest-light" fill="none" viewBox="0 0 24 24"
                        stroke-width="1.5" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round"
                            d="M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z" />
                        <path stroke-linecap="round" stroke-linejoin="round"
                            d="M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1 1 15 0Z" />
                    </svg>
                    <span data-i18n="contact_location">Shanghai, China &nbsp;Â·&nbsp; Available for Remote
                        Internship</span>
                </div>

                <!-- Phone -->
                <div class="flex items-center gap-4 text-dark/60 text-sm">
                    <svg class="w-5 h-5 flex-shrink-0 text-forest-light" fill="none" viewBox="0 0 24 24"
                        stroke-width="1.5" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round"
                            d="M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 0 0 2.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 0 1-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 0 0-1.091-.852H4.5A2.25 2.25 0 0 0 2.25 6Z" />
                    </svg>
                    <span>(+86) 150 0093 8707</span>
                </div>

                <!-- WeChat -->
                <div class="flex items-center gap-4 text-dark/60 text-sm">
                    <svg class="w-5 h-5 flex-shrink-0 text-forest-light" fill="currentColor" viewBox="0 0 24 24">
                        <path
                            d="M8.691 2.188C3.891 2.188 0 5.476 0 9.53c0 2.212 1.17 4.203 3.002 5.55a.59.59 0 0 1 .213.665l-.39 1.48c-.019.07-.048.141-.048.213 0 .163.13.295.295.295a.3.3 0 0 0 .166-.054l1.903-1.114a.864.864 0 0 1 .717-.098 10.16 10.16 0 0 0 2.837.403c.276 0 .543-.027.811-.05-.857-2.578.157-4.972 1.932-6.446 1.703-1.415 3.882-1.98 5.853-1.838-.576-3.583-4.196-6.348-8.6-6.348zM5.785 5.991c.642 0 1.162.529 1.162 1.18a1.17 1.17 0 0 1-1.162 1.178A1.17 1.17 0 0 1 4.623 7.17c0-.651.52-1.18 1.162-1.18zm5.813 0c.642 0 1.162.529 1.162 1.18a1.17 1.17 0 0 1-1.162 1.178 1.17 1.17 0 0 1-1.162-1.178c0-.651.52-1.18 1.162-1.18zm5.34 2.867c-1.797-.052-3.746.512-5.28 1.786-1.72 1.428-2.687 3.72-1.78 6.22.942 2.453 3.666 4.229 6.884 4.229.826 0 1.622-.12 2.361-.336a.722.722 0 0 1 .598.082l1.584.926a.272.272 0 0 0 .14.047c.134 0 .24-.111.24-.247 0-.06-.023-.12-.038-.177l-.327-1.233a.582.582 0 0 1-.023-.156.49.49 0 0 1 .201-.398C23.024 18.48 24 16.82 24 14.98c0-3.21-2.931-5.837-7.062-6.122zm-3.74 2.719c.532 0 .963.441.963.983a.963.963 0 0 1-.963.983.963.963 0 0 1-.963-.983c0-.542.431-.983.963-.983zm7.473 0c.532 0 .963.441.963.983a.963.963 0 0 1-.963.983.963.963 0 0 1-.963-.983c0-.542.431-.983.963-.983z" />
                    </svg>
                    <span>WeChat: kristyn5942</span>
                </div>

                <!-- Email -->
                <div class="flex items-center gap-4 text-sm">
                    <svg class="w-5 h-5 flex-shrink-0 text-forest-light" fill="none" viewBox="0 0 24 24"
                        stroke-width="1.5" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round"
                            d="M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75" />
                    </svg>
                    <a href="mailto:Kristyn921207@gmail.com"
                        class="text-dark/60 hover:text-forest transition underline-offset-4 hover:underline">
                        Kristyn921207@gmail.com
                    </a>
                </div>

            </div>
        </div>

        <!-- Bottom credit bar -->
        <div class="border-t border-dark/10 py-6 text-center text-xs text-dark/30 tracking-widest uppercase">
            Â© 2026 Yishan Chen &nbsp;Â·&nbsp; Designed with care
        </div>
    </footer>

    <script>
        // Trigger fade-up animations on scroll
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('visible');
                }
            });
        }, { threshold: 0.1 });

        document.querySelectorAll('.fade-up').forEach(el => observer.observe(el));
    </script>

</body>

</html>